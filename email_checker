import csv
from disposable_email_domains import blocklist

# Initialize counter for spam emails
spam_emails = 0

# Open and read the CSV file
with open('emails.csv', 'r') as file:
    reader = csv.reader(file)
    next(reader)  # Skip header if exists
    for row in reader:
        email = row[0]
        domain = email.split('@')[-1]  # Extract domain from email

        # Check if domain is in the blocklist
        if domain in blocklist:
            print(f"{email} is a spam email.")
            spam_emails += 1
        #else:
            #print(f"{email} is not a spam email.")

# Print total count of spam emails
print("Total spam emails:", spam_emails)
